## 概述
新增记录是指通过可视化的方式向应用实体模型插入数据记录，在服务编排中主要通过“新增记录”节点来实现。

## 注意事项

* 联表新增只支持两级，即A与B是多对一，B与C是一对一，那么可以进行A与B、B与C的联表新增操作，暂不支持A与B与三表的集联新增
* 一对一关系的联表新增不允许关联已存在记录，基本不存在这种场景 


## 操作步骤
按以下步骤在服务编排设计器进行新增记录节点配置：
1. 在画布点击需要添加节点位置的“➕”按钮，右侧将弹出”活动节点“面板
2. 选择“新增记录”节点，该节点将自动追加到画布所点击的位置，且右侧将切换到“新增记录”配置面板
3. 配置“数据源”，选择需要新增记录的实体模型
4. 配置“新增模式”，可以选择“新增一条记录”或者“新增多条记录”
5. “节点出参”为可选，新增记录执行完成后，将返回新增成功的记录数据
6. 进行“字段赋值”，点击“添加字段”按钮，将弹出“选择字段”弹窗，这里将展示主表字段以及关联表字段（存在关联表的情况下），勾选需要进行赋值的字段，点击“确认”提交。注意：如果所选数据源存在必填字段，那么当选择好数据源之后，字段赋值区域将自动显示这些需要赋值的字段
7. 选择好字段后，可以通过手动录入或者公式编辑器来配置字段对应的值，如需删除，只需点击对应字段后方的“删除”图标即可

操作步骤如下图所示：

![image](/img/服务编排/aea8a4f1c2492298f493636e3.png)

![image](/img/服务编排/449efd1052126dc8cecb36a7e.png)

![image](/img/服务编排/77b9b561d54e5b46694151aa0.png)

## 单表新增一条记录

操作完步骤1、2、3后，第4步选择“新增一条记录”
![image](/img/服务编排/84bf61f443b5faf9d643e0483.png)

在字段赋值区域，点击“添加字段”，选择所需字段，点击“确定”提交
![image](/img/服务编排/0d27c2a5563dd452b46335f7b.png)

设置表字段值，下面是直接输入的静态数据，也可以绑定变量，例如：服务上下文（服务入参、节点出参）、系统变量
![image](/img/服务编排/a5234ae941a9f6aa1f7f90743.png)


## 单表新增多条记录

操作完步骤1、2、3后，第4步选择“新增多条记录”
![image](/img/服务编排/f9711c1d41c0c4b99f7e9bed3.png)

在字段赋值区域，点击“添加字段”，选择所需字段，点击“确定”提交
![image](/img/服务编排/0d27c2a5563dd452b46335f7b.png)

设置表字段值，下面是直接输入的静态数据，也可以绑定变量，例如：服务上下文（服务入参、节点出参）、系统变量
![image](/img/服务编排/4f3d916a428a5bcc4cf8bf972.png)

## 实体一对一关系-联表新增单条记录

操作完步骤1、2、3后，第4步选择“新增单条记录”
![image](/img/服务编排/f9711c1d41c0c4b99f7e9bed3.png)

在字段赋值区域，点击“添加字段”，选择所需字段，点击“确定”提交
![image](/img/服务编排/46aa7070a5fdf5300a0a48d7d.png)

设置表字段值，下面是直接输入的静态数据，也可以绑定变量，例如：服务上下文（服务入参、节点出参）、系统变量
![image](/img/服务编排/7c7305d7243f20b5227b98896.png)

## 实体一对一关系-联表新增多条记录

配置方法可以结合前面的说明。

## 实体多对一关系-联表新增

操作完步骤1、2、3后，第4步选择“新增单条记录”
![image](/img/服务编排/f9711c1d41c0c4b99f7e9bed3.png)

在字段赋值区域，点击“添加字段”，选择所需字段，点击“确定”提交
![image](/img/服务编排/46aa7070a5fdf5300a0a48d7d.png)

设置表字段值，下面是直接输入的静态数据，也可以绑定变量，例如：服务上下文（服务入参、节点出参）、系统变量
![image](/img/服务编排/7c7305d7243f20b5227b98896.png)

## 实体多对一关系-关联已存在记录

待补充。

## 实体多对多关系-联表新增

待补充。

## 实体多对多关系-关联已存在记录

待补充。